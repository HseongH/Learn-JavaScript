# 연산자 (Operator)

연산자는 하나 이상의 표현식을 대상으로 산술, 할당, 비교, 논리, 타입, 지수 연산 등을 수행해 하나의 값을 만든다. 이때 연산의 대상을 피연산자라 한다. 피연산자는 값으로 평가될 수 있는 표현식이어야 한다. 그리고 피연산자와 연산자의 조합으로 이뤄진 연산자 표현식도 값으로 평가될 수 있는 표현식이다.

피연산자가 "값"이라는 명사의 역할을 한다면 연산자는 "피연산자를 연산하여 새로운 값을 만든다"라는 동사의 역할을 한다고 불 수 있다. 다시 말해, 피연산자는 연산의 대상이 되어야 하므로 값으로 평가할 수 있어야 한다. 연산자는 값으로 평가된 피연산자를 연산해 새로운 값을 만든다.

***

## 1. 산술 연산자

산술 연산자는 피연산자를 대상으로 수학적 계산을 수행해 새로운 숫자 값을 만든다. 산술 연산이 불가능한 경우 NaN을 반환한다.

산술 연산자는 피연산자의 개수에 따라 이항 산술 연산자, 단항 산술 연산자로 구분된다.

### 1.1 이항 산술 연산자

이항 산술 연산자는 2개의 피연산자를 산술 연산하여 숫자 값을 만든다.

모든 이항 산술 연산자는 피연산자의 값을 변경하는 부수 효과가 없다. 어떤 산술 연산을 수행해도 피연산자의 값이 바뀌는 경우는 없고 언제나 새로운 값을 만든다.

|연산자|의미|부수 효과|
|:-----:|:-----:|:-----:|
|+|덧셈|X|
|-|뺄셈|X|
|*|곱셈|X|
|/|나눗셈|X|
|%|나머지|X|

```javascript
5 + 2;  // 7
5 - 2;  // 3
5 * 2;  // 10
5 / 2;  // 2.5
5 % 2;  // 1
```

### 1.2 단항 산술 연산자

단항 산술 연산자는 1개의 피연산자를 산술 연산하여 숫자 값을 만든다.

|연산자|의미|부수 효과|
|:-----:|:-----:|:-----:|
|++|증가|O|
|--|감소|O|
|+|어떠한 효과도 없다. 음수를 양수로 반전하지도 않는다.|X|
|-|수의 부호를 반전한다.|X|

**증가 / 감소 연산자(++ / --)는 피연산자를의 값을 변경하는 부수 효과가 있다**는 것이다. 증가 / 감소 연산 수행 시 피연산자의 값을 변경하는 암묵적 할당이 이루어진다.

```javascript
var x = 5;

x++;
console.log(x);  // 6

x--;
console.log(x); // 5
```

증가 / 감소 연산자는 연산자의 위치에 따라 의미가 달라진다.

> - 피연산자 앞에 위치한 전위 증가 / 감소 연산자는 피연산자의 값을 증가 / 감소 시킨 후 다른 연산을 수행한다.
> - 피연산자 뒤에 위치한 후위 증가 / 감소 연산자는 다른 연산을 먼저 수행한 후 피연산자의 값을 증가 / 감소시킨다.

```javascript
var x = 5;
var result = x++;
console.log(result, x);  // 5, 6

result = ++x;
console.log(result, x);  // 7, 7

result = x--;
console.log(result, x);  // 7, 6

result = --x;
console.log(result, x);  // 5, 5
```

+단항 연산자는 피연산자에 어떠한 효과도 없다. 음수를 양수로 반전하지도 않는다.

```javascript
+30;    // 30
+(-30); // -30
```

숫자 타입 이외의 데이터에 사용 시 숫자 타입으로 데이터 타입이 변경된다. 이때 피연산자를 변경하는 것은 아니고 숫자 타입으로 변환한 값을 생성해 반환한다. 따라서 부수 효과는 없다.

```javascript
+'20';  // 20

+true;  // 1

+false; // 0

+'string'   // NaN
```

-단항 연산자는 데이터의 부호를 반전한 값을 반환한다. + 단항 연산자와 같이 숫자 타입 이외의 피연산자에 사용 시 피연산자를 숫자 타입으로 변환하여 반환한다. 피연산자를 변경하는 것은 아니고 부호를 반전한 값을 생성해 반환한다. 따라서 부수 효과는 없다.

```javascript
-30;    // -30
-(-30); // 30

-true;  // -1
-'string';  // -NaN
```

### 1.3 문자열 연결 연산자

**+ 연산자는 피연산자 중 하나 이상이 문자열인 경우 문자열 연결 연산자로 동작한다.** 그 외의 경우에는 산술 연산자로 동작한다.

```javascript
1 + '2';    // "12"
'1' + 2;    // "12"

1 + true;    // 2
1 + false;   // 1

1 + null;   // 1

1 + undefined   // NaN
```

위 코드에서 주의할 점은 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 전환되기도 한다는 점이다. 이를 **암묵적 타입 변환** 또는 **타입 강제 변환**이라고 한다. 앞서 살펴본 +/- 단항 연산자도 암묵적 타입 변환이 발생한 것이다.

***

## 2. 할당 연산자

할당 연산자는 우변의 값을 좌변의 변수에 할당하는 연산자이다. 피연산자의 값을 변경하기 때문에 부수 효과가 존재한다.

|연산자|의미|동일한 연산자|부수 효과|
|:-----:|:-----:|:-----:|:-----:|
|=|대입 연산자|=|O|
|x += 1|증가 대입 연산자|x = x + 1|O|
|x -= 1|감소 대입 연산자|x = x - 1|O|
|x *= 1|곱하기 대입 연산자|x = x * 1|O|
|x /= 1|나누기 대입 연산자|x = x / 1|O|
|x %= 1|나머지 대입 연산자|x = x % 1|O|

할당 연산자의 경우 변수에 값을 할당하는 용도로 사용되기 때문에 값으로 표현되는 표현식인지 의문이 생길 수 있다. 할당 연산자의 경우 연산 결과 값을 생성해내기 때문에 값으로 표현되는 표현식이다. 이를 활용해서 동일한 값을 할당하는 할당 연산자를 간략하게 표현하는 것이 가능하다.

```javascript
var a, b, c;
a = b = c = 0;
// 1. c에 0이 할당된다.
// 2. b에 0이 할당된다.
// 3. a에 0이 할당된다.

console.log(a, b, c);    // 0, 0, 0
```

***

## 3. 비교 연산자

비교 연산자는 하나 이상의 피연산자를 평가해서 불리언 값을 반환하는 연산자이다. 주로 if문, for문과 같은 제어문에 사용된다.

### 3.1 동등 / 일치 비교 연산자

동등 / 일치 비교 연산자는 피연산자의 좌변과 우변이 서로 일치하는 지 비교하는 연산자이다. 동등 비교 연산자와 일치 비교 연산자는 엄격성에서 차이가 있다. 동등 비교 연산자의 경우 느슨한 비교를 수행하고, 일치 비교 연산자는 좀 더 엄격한 비교를 수행한다.

**동등 비교 연산자**

동등 비교 연산자는 비교 연산을 수행할 때 서로 데이터 타입이 달라도 암묵적 타입 변환을 수행해 연산을 수행한다. 따라서 암묵적 타입 변환의 결과 서로 같은 값을 가질 경우 같은 값임을 나타낸다.

```javascript
5 == '5';    // true
10 == '10'; // true
```

타입을 신경쓰지 않아도 된다는 점에서 편리해 보이지만 연산 결과를 예측하기 어렵다는 단점이 있어 사용을 지양하는 것이 좋다.

```javascript
0 == ''; // true
0 == '0';    // true
'' == '0';  // false
```

**일치 비교 연산자**

일치 비교 연산자는 데이터 타입과 값이 모두 일치할 경우 true를 반환한다. 연산 결과를 예측하기 쉬워 사용이 권장된다.

```javascript
1 === '1';  // false
```

NaN는 자기 자신과 불일치하는 유일한 값이다.

```javascript
NaN === NaN;    // false
```

따라서 해당 값이 NaN인지 확인하기 위해선 isNaN 메서드를 사용해야 한다.

```javascript
isNaN(NaN)  // true
isNaN(10)   // false
isNaN(1 + undefined)    // true
```

자바스크립트에는 음수 0과 양수 0이 존재한다. 하지만 둘을 동등 / 일치 비교 연산자로 비교 연산할 경우 true가 반환된다.

```javascript
-0 === 0;   // true
-0 == 0;   // true
```

둘을 비교할 경우 ES6에서 추가된 Object.is 메서드를 사용해야 한다.

```javascript
Object.is(-0, 0);   // false
```

**부동등 / 불일치 비교 연산자**

부동등 / 불일치 비교 연산자는 각각 동등 비교 연산자, 일치 비교 연산자와 대립되는 비교 연산자이다.

```javascript
1 != 1  // false
1 != '1'    // false

1 !== '1'   // true
```

### 3.2 대소 관계 비교 연산자

대소 관계 비교 연산자는 피연산자의 대소관계를 비교해 불리언 값을 반환한다.

|연산자|의미|부수 효과|
|:-----:|:-----:|:-----:|
|<|우변의 값이 더 크면 참|X|
|>|좌변의 값이 더 크면 참|X|
|<=|좌변과 우변이 같거나 우변이 더 크면 참|X|
|>=|좌변과 우변이 같거나 좌변이 더 크면 참|X|

***

## 4. 삼항 조건 연산자

삼항 조건 연산자는 조건문의 결과에 따라 값을 반환해주는 연산자이다.

> 조건문 ? 조건문이 참일 때 실행 : 조건문이 거짓일 때 실행;

삼항 조건 연산자에서 첫 번째 피연산자는 조건문이 온다. 조건문의 평가 결과 참일 때 두 번째 피연산자가 수행되고, 거짓일 때 세 번째 피연산자가 수행된다.

조건식 if ... else 문으로도 같은 내용을 구성할 수 있지만 if ... else 문의 경우 값으로 평가되지 않는 문이기 때문에 변수에 할당이 불가능하다.

조건에 따라 값이 변경되는 문을 작성하는 경우 삼항 조건 연산자가 유용하지만 조건에 따라 실행되는 명령문이 여러 개일 경우 if ... else 문을 사용하는 것이 가독성 면에서 우수하다.

***

## 5. 논리 연산자

논리 연산자는 둘 이상의 피연산자를 평가(부정 논리 연산자의 경우 하나의 피연산자)해 불리언 값을 반환하는 연산자이다.

|연산자|의미|부수 효과|
|:-----:|:-----:|:-----:|
|!|부정 논리 연산자|X|
|&&|논리 곱|X|
||논리 합|X|

부정 논리 연산자(!)의 경우 식의 평가 결과 불리언 값이 반환된다. 하지만 피연산자의 데이터 타입이 반드시 불리언 타입일 필요는 없으며 불리언 이외의 데이터 타입의 경우 불리언 타입으로 데이터 타입 변환을 수행한다.

```javascript
!true;  // false
!false; // true

!null;  // true
!'';    // true
!2; // false
```

논리 곱(&&), 논리 합(||) 연산자의 경우 연산 결과가 불리언 값이 아닐 수 있다.

```javascript
var name = 'Bob' && 'John'; // "John"
```

***

## 6. 쉼표 연산자

쉼표 연산자는 좌변부터 우변의 피연산자를 평가하고 우변의 피연산자 평가 결과를 반환한다.

```javascript
var a, b, c;
a = 1, b = 2, c = 3;    // 3
```

***

## 7. 그룹 연산자

그룹 연산자는 (괄호)를 사용해 연산자를 묶는 연산자이다. 그룹 연산자를 통해 그룹지어진 피연산자는 연산자 우선순위가 가장 높다.

```javascript
10 * 2 + 3  // 23
10 * (2 + 3)  // 50
```

***

## 8. typeof 연산자

typeof 연산자는 피연산자의 데이터 타입을 문자열로 반환한다. typeof 연산자의 연산 결과로는 number, string, boolean, undefined, symbol, object, function 7가지가 있다. 모든 데이터 타입과 대응되는 것은 아니다.

```javascript
typeof 1;    // "number"
typeof 'aaa';   // "string"
typeof true;    // "boolean"
typeof undefined;    // "undefined"
typeof null;    // "object"
typeof [];  // "object"
typeof function() {}    // "function"
```

한 가지 주의 사항은 null의 경우 데이터 타입이 object이다. 이는 자바스크립트의 오류로 해당 값이 null인지 확인하기 위해선 일치 비교 연산자를 사용해야 한다.

```javascript
typeof null === null;   // false
null === null;  // true
```

생성되지 않은 식별자에 typeof 연산자를 사용 시 ReferenseError를 발생시키지 않고 undefined를 반환한다.

```javascript
console.log(typeof number); // undefined
```

***

## 9. 지수 연산자

지수 연산자는 ES7에 새로 도입된 연산자로 좌변의 피연산자를 밑으로 우변의 피연산자를 지수로하여 거듭제곱을 구하는 연산자이다.

```javascript
5 ** 2; // 25
```

지수 연산자 이전에는 Math.pow 메서드를 사용해 거듭 제곱을 구하였다.

```javascript
Math.pow(5, 2); // 25
```

음수의 거듭제곱을 구할 때는 ()를 사용해야 한다.

```javascript
-5 ** 2;    // Uncaught SyntaxError
(-5) ** 2;  // 25
```

지수 연산자는 이항 산술 연산자 중에서 우선순위가 가장 높으며 할당 연산자를 사용할 수도 있다.

```javascript
2 * 5 ** 3;  // 250

var x = 2;
x **= 3;    // 8
```

***

## 10. 그 외의 연산자

***

## 11. 연산자의 부수 효과

대부분의 연산자는 피연산자의 값을 바꾸지 않고 단순히 연산 결과만 반환한다. 하지만 대입 연산자, 증가 / 감소 연산자, delete 연산자의 경우 피연산자의 값을 변경시키는 부수 효과가 있다.

```javascript
var x = 10;

console.log(x); // 10

x += 5;

console.log(x);  // 15

x++;

console.log(x); // 16

delete x;

console.log(x); 
```

***

## 12. 연산자 우선순위

하나의 문에 연산자가 여러 개 사용되었을 경우 어떠한 연산을 먼저 수행할 지 결정하는 기준이다.

연산자의 우선순위를 모두 기억하는 것은 힘드므로 그룹 연산자를 사용해 연산자의 우선순위를 명시적으로 조절하는 것이 좋다.

***

## 13. 연산자 결합 순서

연산자가 좌측 또는 우측으로 결합되는 지 결정한다.
